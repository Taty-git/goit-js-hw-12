{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '49366539-6fd412d088ca04dcc1c9b4bd7';\n\n\n\nexport const fetchImages = async (searchText) => {\n  try {\n    const response = await axios.get('https://pixabay.com/api/', {\n      params: {\n        key: API_KEY,\n        q: searchText,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        per_page: 15,\n        \n      }\n    });\n    return response;\n    \n  } catch (error) {\n    console.error('Error fetching images:', error);\n    throw error; \n  }\n};\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport function showLoader() {\n    const loader = document.querySelector('.loader');\n    if (loader) {\n        loader.style.display = 'inline-block'; \n    }\n}\n\nexport function hideLoader() {\n    const loader = document.querySelector('.loader');\n    if (loader) {\n        loader.style.display = 'none'; \n    }\n};\n\nexport const clearGallery = () => {\n  let gallery = document.querySelector('.gallery');\n  if (gallery) {\n    gallery.innerHTML = '';\n  }\n};\n\nexport function renderImages(images) {\n    const gallery = document.querySelector('.gallery');\n\n    images.forEach(image => {\n        const galleryItem = document.createElement('li');\n        galleryItem.classList.add('gallery-item');\n\n        galleryItem.innerHTML = `\n            <a href=\"${image.largeImageURL}\"><img src=\"${image.webformatURL}\" alt=\"${image.tags}\"></a>\n            <div class=\"info\">\n                <p><b>Likes</b><br>${image.likes}</p>\n                <p><b>Views</b><br>${image.views}</p>\n                <p><b>Comments</b><br>${image.comments}</p>\n                <p><b>Downloads</b><br>${image.downloads}</p>\n            </div>\n        `;\n\n        gallery.appendChild(galleryItem);\n    });\n}\n\nexport function initializeLightbox() {\n    const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n    });\n\n    lightbox.refresh(); \n}\nexport function showloadMore() {\n    const loadMore = document.querySelector('.load-more');\n    if (loadMore) {\n        loadMore.style.display = 'flex'; \n    }\n}\nexport function hideloadMore() {\n    const loadMore = document.querySelector('.load-more');\n    if (loadMore) {\n        loadMore.style.display = 'none'; \n    }\n};","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchImages } from './js/pixabay-api.js';\nimport { showLoader, hideLoader, clearGallery, renderImages, initializeLightbox, showloadMore, hideloadMore } from './js/render-functions.js';\n\nconst form = document.querySelector('.form');\nlet currentPage = 1;\nlet currentSearchText = '';\n\nhideLoader();\nhideloadMore();\n\n\nform.addEventListener('submit', async function (event) {\n  event.preventDefault(); \n  const searchText = form.querySelector('input[name=\"search-text\"]').value.trim();\n\n  if (!searchText) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please, enter the text for search!',\n    });\n    return;\n  }\n  if (searchText !== currentSearchText) {\n    currentPage = 1; \n    clearGallery();\n    currentSearchText = searchText; \n  }\n  showLoader();\n\n   try {\n    const response = await fetchImages(currentSearchText, currentPage); // Додаємо параметр сторінки\n    hideLoader();\n\n    const images = response.data.hits;\n\n    if (images.length === 0) {\n      iziToast.warning({\n        title: 'Caution',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n      });\n      return;\n    }\n\n    renderImages(images);\n    initializeLightbox();\n\n    // Показуємо кнопку \"Load more\", якщо зображення є\n    showloadMore();\n\n  } catch (error) {\n    hideLoader();\n    iziToast.error({\n      title: 'Error',\n      message: 'Illegal operation.',\n    });\n    console.error(error);\n  }\n});\n\n\nconst loadMoreButton = document.querySelector('.load-more');\nif (loadMoreButton) {\n  loadMoreButton.addEventListener('click', async () => {\n    currentPage += 1;\n    showLoader();\n\n    try {\n      const response = await fetchImages(currentSearchText, currentPage); // Додаємо параметр сторінки\n      hideLoader();\n\n      const images = response.data.hits;\n\n      if (images.length === 0) {\n        iziToast.warning({\n          title: 'Caution',\n          message: 'Sorry, no more images available.',\n        });\n        hideloadMore(); \n        return;\n      }\n\n      renderImages(images);\n      initializeLightbox();\n    } catch (error) {\n      hideLoader();\n      iziToast.error({\n        title: 'Error',\n        message: 'Error loading more images.',\n      });\n      console.error(error);\n    }\n  });\n}"],"names":["API_KEY","fetchImages","searchText","axios","error","showLoader","loader","hideLoader","clearGallery","gallery","renderImages","images","image","galleryItem","initializeLightbox","SimpleLightbox","showloadMore","loadMore","hideloadMore","form","currentPage","currentSearchText","event","iziToast","response","loadMoreButton"],"mappings":"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"}